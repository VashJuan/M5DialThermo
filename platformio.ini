[env:m5dial]
platform = espressif32
board = m5stack-cores3
framework = arduino

; M5Dial specific configuration
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_build.f_flash = 80000000L
board_build.flash_mode = qio
board_build.partitions = default_8MB.csv

; Upload configuration
upload_protocol = esptool
upload_port = COM4
upload_speed = 921600

; Monitor configuration
monitor_port = COM4
monitor_speed = 9600

; Build flags and libraries
build_flags = 
    -DARDUINO_M5STACK_CORES3
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue

lib_deps = 
    m5stack/M5Unified@^0.1.13
    m5stack/M5GFX@^0.1.15
    adafruit/Adafruit MCP9808 Library@^2.0.1

; Source filter to include only necessary files
build_src_filter = 
    +<*.ino>
    +<*.cpp>
    +<*.hpp>
    -<.git/>
    -<.svn/>