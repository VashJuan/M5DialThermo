/**
 * @file m5dial.hpp
 * @brief M5Dial Device Interface Header
 * @version 1.0
 * @date 2025-12-16
 *
 * @Hardwares: M5Dial
 * @Platform Version: Arduino M5Stack Board Manager v2.0.7
 * @Dependent Library:
 * M5GFX: https://github.com/m5stack/M5GFX
 * M5Unified: https://github.com/m5stack/M5Unified
 */

#pragma once

#include <Arduino.h>
#include "M5Dial.h"


/**
 * @class M5DialDevice
 * @brief Device-specific implementation for M5Dial
 *
 * This class handles all M5Dial-specific display operations and font rendering.
 * It acts as an adapter between the generic FontDisplayManager and M5Dial hardware.
 */
class M5DialDevice : public DeviceInterface
{
private:
    void drawWrappedText(const char *text, int centerX, int centerY);
    int getStringWidth(const String &text);

public:
    /**
     * @brief Constructor
     */
    M5DialDevice();

    /**
     * @brief Initialize M5Dial device
     */
    void begin();

    // DeviceInterface implementation
    /**
     * @brief Clear the display
     */
    //void clearDisplay() override;

    /**
     * @brief Get display width
     * @return Display width in pixels
     */
    //int getDisplayWidth() const override;

    /**
     * @brief Get display height
     * @return Display height in pixels
     */
    //int getDisplayHeight() const override;

    /**
     * @brief Display font information and sample text
     * @param familyName Font family name
     * @param fontName Font name
     * @param fontSize Font size
     * @param fontPtr Pointer to the font object
     * @param sampleText Sample text to display
     */
    //void displayFont(const String &familyName, const String &fontName, int fontSize, const lgfx::IFont *fontPtr, const char *sampleText) override;

    /**
     * @brief Update device state
     */
    void update();

    /**
     * @brief Show startup message
     * @param message Message to display
     */
    void showStartupMessage(const char *message);
};

// Global instance declaration
extern M5DialDevice m5DialDevice;